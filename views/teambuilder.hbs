<!-- base container -->
<div class="container-fluid mt-3 container-xxl bg-danger text-center rounded-4 py-2">
    <h2 class="p-0 m-0 pb-3 pt-2 text-light">Build New Team</h2>
    <!-- inner base container -->
    <div class="container-fluid mb-1 d-flex flex-column justify-content-around align-content-center mb-0 bg-body-secondary
    rounded">
        <!--  card container  -->
        <div class="container d-flex flex-wrap justify-content-around align-items-center mt-3">
            {{#each pokeTeam}}
                <div class="col-11 col-sm-6 col-lg-4 col-xl-4 col-xxl-2">
                    {{>pokecard}}
                </div>
            {{/each}}
        </div>
        <!-- button container-->
        <div class="container p-3 d-flex justify-content-between">
            <form action="/teambuilder/clear/" method="post">
                <input id="clearTeam" class="btn btn-danger mx-3" type="submit" value="Clear Team">
            </form>
            <!--            <input id="saveTeam" class="btn btn-success mx-3" type="button" value="Save Team">-->
        </div>
    </div>
</div>

<!-- base container -->
<div class="container-fluid mt-3 container-xxl bg-danger text-center rounded-4 py-2">
    <h2 class="p-0 m-0 pb-3 pt-2 text-light">Select your Pokemon</h2>
    <!-- inner base container -->
    <div class="container-fluid mb-2 d-flex flex-column justify-content-around align-content-center mb-1 bg-body-secondary
    rounded-top-3 mb-0">

        <!-- heading + form container -->
        <div class="d-flex flex-column py-4">
            <!-- filters heading container -->
            <div class="p-0 m-0 ">
                <h4 class="p-0 m-0 px-3 pb-2 col-12 text-start">Filters</h4>
            </div>
            <!-- outer criteria form container -->
            <div class="p-0 m-0">
                <form action="/teambuilder/filters" method="post">
                    <!-- base filters form controls container -->
                    <div class="container d-flex flex-column flex-md-row col-md-12 justify-content-center align-items-center">
                        <!-- name/ID + generation container -->
                        <!-- name/ID search input container -->
                        <div class="container col-12 col-lg-4 col-md-6">
                            <label for="searchNameID" class="fw-bold">Name or ID:</label>
                            <input class="form-control mx-2" type="text" id="searchNameID" name="searchNameID"
                                   placeholder="Search by Pokemon name or ID" value="{{sbmtNameID}}">
                        </div>
                        <!-- type1 + type2 selects container -->
                        <div class="container d-flex flex-column my-3 col-lg-4 col-md-5 col-12">
                            <!-- type1 select container -->
                            <div class="container">
                                <label for="searchType1" class="fw-bold">Type 1:</label>
                                <select class="form-select" id="searchType1" name="searchType1">
                                    <option value="" {{#if (equals smbtType1 "")}}selected{{/if}}></option>
                                    <option value="Normal" {{#if (equals smbtType1 "Normal")}}selected{{/if}}>Normal</option>
                                    <option value="Fire" {{#if (equals smbtType1 "Fire")}}selected{{/if}}>Fire</option>
                                    <option value="Water" {{#if (equals smbtType1 "Water")}}selected{{/if}}>Water</option>
                                    <option value="Grass" {{#if (equals smbtType1 "Grass")}}selected{{/if}}>Grass</option>
                                    <option value="Electric" {{#if (equals smbtType1 "Electric")}}selected{{/if}}>Electric</option>
                                    <option value="Ice" {{#if (equals smbtType1 "Ice")}}selected{{/if}}>Ice</option>
                                    <option value="Fighting" {{#if (equals smbtType1 "Fighting")}}selected{{/if}}>Fighting</option>
                                    <option value="Poison" {{#if (equals smbtType1 "Poison")}}selected{{/if}}>Poison</option>
                                    <option value="Ground" {{#if (equals smbtType1 "Ground")}}selected{{/if}}>Ground</option>
                                    <option value="Flying" {{#if (equals smbtType1 "Flying")}}selected{{/if}}>Flying</option>
                                    <option value="Psychic" {{#if (equals smbtType1 "Psychic")}}selected{{/if}}>Psychic</option>
                                    <option value="Bug" {{#if (equals smbtType1 "Bug")}}selected{{/if}}>Bug</option>
                                    <option value="Rock" {{#if (equals smbtType1 "Rock")}}selected{{/if}}>Rock</option>
                                    <option value="Ghost" {{#if (equals smbtType1 "Ghost")}}selected{{/if}}>Ghost</option>
                                    <option value="Dragon" {{#if (equals smbtType1 "Dragon")}}selected{{/if}}>Dragon</option>
                                    <option value="Dark" {{#if (equals smbtType1 "Dark")}}selected{{/if}}>Dark</option>
                                    <option value="Steel" {{#if (equals smbtType1 "Steel")}}selected{{/if}}>Steel</option>
                                    <option value="Fairy" {{#if (equals smbtType1 "Fairy")}}selected{{/if}}>Fairy</option>
                                </select>
                            </div>
                            <!-- type2 select container -->
                            <div class="container mt-2">
                                <label for="searchType2" class="fw-bold">Type 2:</label>
                                <select class="form-select" id="searchType2" name="searchType2">
                                    <option value="" {{#if (equals sbmtType2 "")}}selected{{/if}}></option>
                                    <option value="Normal" {{#if (equals sbmtType2 "Normal")}}selected{{/if}}>Normal</option>
                                    <option value="Fire" {{#if (equals sbmtType2 "Fire")}}selected{{/if}}>Fire</option>
                                    <option value="Water" {{#if (equals sbmtType2 "Water")}}selected{{/if}}>Water</option>
                                    <option value="Grass" {{#if (equals sbmtType2 "Grass")}}selected{{/if}}>Grass</option>
                                    <option value="Electric" {{#if (equals sbmtType2 "Electric")}}selected{{/if}}>Electric</option>
                                    <option value="Ice" {{#if (equals sbmtType2 "Ice")}}selected{{/if}}>Ice</option>
                                    <option value="Fighting" {{#if (equals sbmtType2 "Fighting")}}selected{{/if}}>Fighting</option>
                                    <option value="Poison" {{#if (equals sbmtType2 "Poison")}}selected{{/if}}>Poison</option>
                                    <option value="Ground" {{#if (equals sbmtType2 "Ground")}}selected{{/if}}>Ground</option>
                                    <option value="Flying" {{#if (equals sbmtType2 "Flying")}}selected{{/if}}>Flying</option>
                                    <option value="Psychic" {{#if (equals sbmtType2 "Psychic")}}selected{{/if}}>Psychic</option>
                                    <option value="Bug" {{#if (equals sbmtType2 "Bug")}}selected{{/if}}>Bug</option>
                                    <option value="Rock" {{#if (equals sbmtType2 "Rock")}}selected{{/if}}>Rock</option>
                                    <option value="Ghost" {{#if (equals sbmtType2 "Ghost")}}selected{{/if}}>Ghost</option>
                                    <option value="Dragon" {{#if (equals sbmtType2 "Dragon")}}selected{{/if}}>Dragon</option>
                                    <option value="Dark" {{#if (equals sbmtType2 "Dark")}}selected{{/if}}>Dark</option>
                                    <option value="Steel" {{#if (equals sbmtType2 "Steel")}}selected{{/if}}>Steel</option>
                                    <option value="Fairy" {{#if (equals sbmtType2 "Fairy")}}selected{{/if}}>Fairy</option>
                                </select>
                            </div>
                        </div>
                        <!-- generation select container -->
                        <!--<div class="container flex-shrink-1 col-2">-->
                        <div class="container d-flex flex-column my-3 col-lg-4 col-md-5 col-12">
                            <label for="searchGen" class="fw-bold">Generation:</label>
                            <select class="form-select" id="searchGen" name="searchGen">
                                <option value="" selected></option>
                                <option value="1" {{#if (equals sbmtGen '1')}}selected{{/if}}>1</option>
                                <option value="2" {{#if (equals sbmtGen '2')}}selected{{/if}}>2</option>
                                <option value="3" {{#if (equals sbmtGen '3')}}selected{{/if}}>3</option>
                                <option value="4" {{#if (equals sbmtGen '4')}}selected{{/if}}>4</option>
                                <option value="5" {{#if (equals sbmtGen '5')}}selected{{/if}}>5</option>
                                <option value="6" {{#if (equals sbmtGen '6')}}selected{{/if}}>6</option>
                                <option value="7" {{#if (equals sbmtGen '7')}}selected{{/if}}>7</option>
                                <option value="8" {{#if (equals sbmtGen '8')}}selected{{/if}}>8</option>
                                <option value="9" {{#if (equals sbmtGen '9')}}selected{{/if}}>9</option>
                            </select>
                        </div>
                    </div>

                    <!-- apply filters button container -->
                    <div class="container-fluid py-3 d-flex justify-content-center">
                        <button class="btn btn-success mx-3" type="submit" onclick="clickHandler()" id="applyBtn">
                            Apply
                        </button>
                        <script defer>
                            function clickHandler() {
                                setTimeout(() => {
                                    let aplBtn = document.getElementById('applyBtn')
                                    aplBtn.disabled = true;
                                    aplBtn.innerText = 'Searching...';
                                    aplBtn.className = 'btn btn-primary'
                                }, 1);
                            }
                        </script>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="container-fluid mt-0 mb-1 d-flex flex-wrap bg-body-secondary rounded-bottom-3">
        <div class="container-fluid d-flex flex-wrap justify-content-center mt-3">
            {{#if empty}}
                <div class="container p-3 pb-4">
                    <h5>No results found!</h5>
                </div>
            {{else}}
                {{#if filtersApplied}}

                    <div class="col-12">
                        <h5>PokeResults --->
                        {{#if sbmtName}}<span class="mx-3">Name: {{sbmtName}}</span>{{/if}}
                        {{#if sbmtType1}}<span class="mx-3">Type1: {{sbmtType1}}</span>{{/if}}
                        {{#if sbmtType2}}<span class="mx-3">Type2: {{sbmtType2}}</span>{{/if}}
                        {{#if sbmtType2}}<span class="mx-3">Gen: {{sbmtGen}}</span>{{/if}}
                        </h5>
                    </div>
                {{/if}}
                {{#each cards}}
                    <form class="col-11 col-sm-6 col-md-6 col-lg-4 col-xl-4 col-xxl-3 d-flex flex-column justify-content-center pb-3 rounded"
                          action="/teambuilder/team/" method="post">
                        <div>
                            {{>pokecard}}
                            <div class="container d-flex justify-content-center align-items-center">
                                <button class="btn btn-danger" name="addToTeam" type="submit" id="add{{pokeid}}ToTeam"
                                        value="{{pokeid}}">Add to Team
                                </button>
                            </div>
                        </div>
                    </form>
                {{/each}}
            {{/if}}
        </div>
    </div>
</div>


